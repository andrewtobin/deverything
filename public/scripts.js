"use strict";function safeApply(a,b){a.$$phase||a.$root.$$phase?b():a.$apply(b)}angular.module("dev",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"/main",controller:"MainCtrl"}).when("/about",{templateUrl:"/about",controller:"AboutCtrl"}).when("/profile",{templateUrl:"/profile",controller:"ProfileCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("dev").directive("d3bars",function(){return{restrict:"EA",scope:{data:"="},link:function(a,b){var c=d3.select(b[0]).append("svg").style("width","100%").style("height","200px");window.onresize=function(){return a.$apply()},a.$watch(function(){return angular.element(window)[0].innerWidth},function(){a.render(a.data)}),a.$watch("data",function(b){return a.render(b)},!0),a.render=function(a){c.selectAll("*").remove(),a&&c.selectAll("rect").data(a).enter().append("rect").attr("class","bar").attr("height",function(a){return 15*a}).attr("width",20).attr("x",function(a,b){return 22*b}).attr("y",function(a){return 200-15*a})}}}}),angular.module("dev").controller("AboutCtrl",["$scope","$http",function(a){console.log("created about"),a.projects=[5,3,2,4,8,5,3]}]),angular.module("dev").controller("MainCtrl",["$scope","$http",function(a){console.log("entered main"),a.user=JSON.parse(localStorage.deverything),a.projects=[5,3,2,4,8,5,3]}]),angular.module("dev").controller("ProfileCtrl",["$scope","$http","$location",function(a,b){a.user=null;var c=localStorage.deverything;if(null===c||"null"===c)return d=null,safeApply(a,function(){window.location.assign("/logout")}),void 0;var d=JSON.parse(localStorage.deverything);b({method:"GET",url:"/api/users/"+d.id,headers:{token:d.token}}).success(function(b){a.user=b,console.log(b)}).error(function(a){console.log(a)}),a.saveProfile=function(a){b({method:"PUT",url:"/api/users/"+d.id,headers:{token:d.token},data:a}).success(function(a){console.log("save profile success"),console.log(a)}).error(function(a){console.log(a)})}}]);